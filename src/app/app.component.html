<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand" href="#">App</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText"
    aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarText">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item" [ngClass]="{'active': router.url === '/'}">
        <a class="nav-link" routerLink="/"><i class="fa fa-home"></i> Home</a>
      </li>
      <li class="nav-item" [ngClass]="{'active': router.url === '/admin/add'}">
        <a class="nav-link pointer" (click)="goToWritePediaPage()"><i class="fa fa-pencil-square-o"></i> Write Pedia</a>
      </li>
      <li class="nav-item" [ngClass]="{'active': router.url === '/admin'}">
        <a class="nav-link" routerLink="/admin"><i class="fa fa-list"></i> Pedias</a>
      </li>
      <li class="nav-item" [ngClass]="{'active': router.url === '/admin/recent'}">
        <a class="nav-link" routerLink="/"><i class="fa fa-history"></i> Recent</a>
      </li>
    </ul>
    <div class="col-sm-4">
      <form (ngSubmit)="goToListPage()">
        <div class="input-group">
          <input type="text" class="form-control form-control-sm" name="searchText" [(ngModel)]="searchText"
            placeholder="Type and enter to search" />
          <div class="input-group-append">
            <span class="input-group-text"><i class="fa fa-search"></i></span>
          </div>
        </div>
      </form>

    </div>
    <ul class="navbar-nav">
      <li class="nav-item dropdown" id="profileMenu">
        <a *ngIf="displayName" class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
          data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <i class="fa fa-user"></i> {{displayName}}
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="#"><i class="fa fa-user"></i> Profile</a>
          <a class="dropdown-item" href="#"><i class="fa fa-gear"></i> Settings</a>
          <a class="dropdown-item pointer" (click)="logout()"><i class="fa fa-sign-out"></i> Logout</a>
        </div>
      </li>
      <li class="nav-item">
        <a class="nav-link pointer" (click)="displayLoginModal = true"><i class="fa fa-sign-in"></i> Login</a>
      </li>
    </ul>
  </div>
</nav>
<div class="container-fluid py-2">
  <router-outlet></router-outlet>
  <div class="my-4">&nbsp;</div>
</div>

<footer class="footer">
  <div class="container-fluid">
    <span class="text-muted">Place sticky footer content here.</span>
  </div>
</footer>

<!-- Spinner #START -->
<ngx-spinner>
  <p class="loading" style="color: white">Loading...</p>
</ngx-spinner>
<!-- Spinner #END -->

<!-- Toast #START -->
<p-toast [modal]="true"></p-toast>
<!-- Toast #END -->

<!-- Login modal #START -->
<p-dialog [(visible)]="displayLoginModal" [modal]="true" [style]="{width: '25vw'}">
  <p-header>
    Login
  </p-header>
  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="exampleInputEmail1">Email</label>
      <input type="email" class="form-control form-control-sm" formControlName="email">
      <div *ngIf="submitted && f.name.errors" class="text-danger">
        <div *ngIf="f.name.errors.required">Name is required</div>
        <div *ngIf="f.email.errors.email">Enter valid email</div>
      </div>
    </div>
    <div class="form-group">
      <label for="exampleInputPassword1">Password</label>
      <input type="password" class="form-control form-control-sm" formControlName="password">
      <div *ngIf="submitted && f.password.errors" class="text-danger">
        <div *ngIf="f.password.errors.required">Password is required</div>
      </div>
    </div>
    <div class="form-group">
      <p-checkbox label="Remember me"></p-checkbox>
    </div>
    <div class="text-right">
      <button class="btn btn-secondary btn-sm" (click)="displayLoginModal = false">
        <i class="fa fa-times"></i> Cancel
      </button>
      <button type="submit" class="btn btn-primary btn-sm">
        <i class="fa fa-sign-in"></i> Login
      </button>
    </div>
  </form>
  <hr />
  <div class="text-center">
    <a (click)="goToRegisterPage()" class="pointer"><i class="fa fa-user-plus"></i> Create New Account</a>
  </div>
</p-dialog>
<!-- Login modal #END -->
